<!doctype html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="JOHNGALTAZ ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞: –∏–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏, –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è, –±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ. –ó–∞–∫–∞–∑ –∑–∞ 1‚Äì2 –º–∏–Ω—É—Ç—ã." />
  <title>JOHNGALTAZ ‚Äî –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</title>

  <style>
    :root { --bg:#0b1220; --card:#121b2f; --text:#e8eefc; --muted:#a8b3cf; }

    :root{
      --primary:#0B1416;
      --accent:#F85C58;
      --bg:#F6F6F3;
      --card:#ffffff;
      --muted:#666666;
      --line:#D6D6D6;
      --ok:#0f8a4b;
      --warn:#9a6a00;
      --shadow: 0 10px 30px rgba(11,20,22,.08);
      --radius: 16px;
      --radius2: 22px;
      --max: 1180px;
      --focus: 0 0 0 3px rgba(248,92,88,.25);
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--primary);
      background:var(--bg);
      line-height:1.4;
    }
    a{color:inherit; text-decoration:none}
    button, input, select, textarea{font:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:0 16px}
    .skip{position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden}
    .skip:focus{left:16px; top:16px; width:auto; height:auto; padding:10px 12px; background:#fff; border-radius:12px; box-shadow:var(--shadow); z-index:9999}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      background:rgba(246,246,243,.85);
      backdrop-filter:saturate(1.3) blur(10px);
      border-bottom:1px solid rgba(214,214,214,.6);
    }
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 0}
    .brand{display:flex; align-items:center; gap:12px; min-width:190px}
    .logo{
      width:44px; height:44px; border-radius:12px;
      object-fit:cover; background:#fff; box-shadow:0 6px 16px rgba(11,20,22,.08);
    }
    .brand-title{display:flex; flex-direction:column; gap:2px}
    .brand-title b{letter-spacing:.2px}
    .brand-title small{color:var(--muted); font-size:12px}

    .searchwrap{flex:1; display:flex; gap:10px; align-items:center}
    .search{
      width:100%;
      display:flex; gap:8px; align-items:center;
      background:#fff; border:1px solid var(--line);
      border-radius:999px; padding:10px 12px; box-shadow: 0 6px 18px rgba(11,20,22,.05);
    }
    .search input{
      border:none; outline:none; width:100%; background:transparent;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:8px 10px;
      color:var(--primary);
    }
    .chip select{
      border:none; outline:none; background:transparent;
      padding:0; margin:0; cursor:pointer;
    }

    .actions{display:flex; align-items:center; gap:10px}
    .iconbtn{
      position:relative;
      display:inline-flex; align-items:center; justify-content:center;
      width:42px; height:42px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(11,20,22,.05);
    }
    .iconbtn:focus{outline:none; box-shadow:var(--focus), 0 6px 18px rgba(11,20,22,.05)}
    .badge{
      position:absolute; top:-6px; right:-6px;
      min-width:18px; height:18px;
      padding:0 5px;
      background:var(--accent); color:#fff; border-radius:999px;
      font-size:11px; display:flex; align-items:center; justify-content:center;
      border:2px solid var(--bg);
    }
    .hamb{display:none}

    nav{
      padding:0 0 10px 0;
    }
    .navrow{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .navlinks{display:flex; gap:10px; flex-wrap:wrap}
    .navlinks a{
      padding:8px 12px; border-radius:999px;
      border:1px solid rgba(214,214,214,.0);
      color:var(--primary);
    }
    .navlinks a:hover{background:#fff; border-color:var(--line)}
    .navright{display:flex; gap:10px; align-items:center}
    .cta{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 14px; border-radius:999px;
      background:var(--accent); color:#fff; border:1px solid var(--accent);
      cursor:pointer; box-shadow: 0 10px 26px rgba(248,92,88,.25);
      font-weight:700;
    }
    .cta:focus{outline:none; box-shadow:var(--focus), 0 10px 26px rgba(248,92,88,.25)}

    /* Hero */
    .hero{padding:22px 0 12px}
    .hero-card{
      background:linear-gradient(135deg, rgba(248,92,88,.10), rgba(11,20,22,.04));
      border:1px solid rgba(214,214,214,.7);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      padding:18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      overflow:hidden;
    }
    .hero h1{margin:0 0 8px 0; font-size: clamp(22px, 2.6vw, 36px); letter-spacing:.2px}
    .hero p{margin:0 0 12px 0; color:var(--muted); max-width:62ch}
    .herobtns{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      font-weight:700;
    }
    .btn:hover{border-color:rgba(214,214,214,.85)}
    .btn:focus{outline:none; box-shadow:var(--focus)}
    .btn.primary{background:var(--accent); border-color:var(--accent); color:#fff}
    .hero-side{
      background:#fff;
      border:1px solid var(--line);
      border-radius:var(--radius2);
      padding:14px;
      display:flex; flex-direction:column; gap:10px;
    }
    .kpi{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    .kpi .tile{
      border:1px solid rgba(214,214,214,.7);
      border-radius:14px;
      padding:10px;
      background:linear-gradient(180deg, #fff, rgba(246,246,243,.4));
    }
    .tile b{display:block; font-size:14px}
    .tile small{color:var(--muted); font-size:12px}
    .note{
      border-left:3px solid var(--accent);
      padding:10px 12px;
      border-radius:12px;
      background:rgba(248,92,88,.07);
      color:var(--primary);
      font-size:13px;
    }

    /* Sections */
    section{padding:18px 0}
    .section-title{display:flex; align-items:flex-end; justify-content:space-between; gap:12px; margin-bottom:10px}
    .section-title h2{margin:0; font-size:18px}
    .section-title p{margin:0; color:var(--muted); font-size:13px}

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
    }
    .card{
      background:#fff;
      border:1px solid rgba(214,214,214,.75);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
    }
    .pad{padding:14px}
    .cat{
      grid-column: span 4;
      display:flex; flex-direction:column; gap:8px;
      padding:14px;
      cursor:pointer;
      transition: transform .12s ease;
    }
    .cat:hover{transform:translateY(-2px)}
    .cat b{font-size:15px}
    .cat small{color:var(--muted)}
    .cat .tag{display:inline-flex; width:max-content; gap:8px; align-items:center; border:1px solid var(--line); border-radius:999px; padding:6px 10px; font-size:12px; background:rgba(246,246,243,.6)}

    .two{
      grid-column: span 6;
    }
    .three{
      grid-column: span 4;
    }
    .formrow{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    .field label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px}
    .field input, .field select, .field textarea{
      width:100%;
      padding:11px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      outline:none;
      background:#fff;
    }
    .field input:focus, .field select:focus, .field textarea:focus{box-shadow:var(--focus); border-color:rgba(248,92,88,.45)}
    .help{color:var(--muted); font-size:12px; margin-top:8px}
    .inline{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .muted{color:var(--muted)}
    footer{
      padding:20px 0 80px;
      border-top:1px solid rgba(214,214,214,.65);
      margin-top:10px;
    }
    .footgrid{display:grid; grid-template-columns:2fr 1fr 1fr; gap:12px}
    .footgrid a{display:block; padding:6px 0; color:var(--muted)}
    .footgrid a:hover{color:var(--primary)}
    .small{font-size:12px; color:var(--muted)}

    /* Drawer / Modal */
    .overlay{
      position:fixed; inset:0;
      background:rgba(11,20,22,.45);
      display:none;
      z-index:200;
    }
    .overlay.show{display:block}
    .drawer{
      position:fixed; top:0; right:0;
      width:min(460px, 92vw);
      height:100%;
      background:#fff;
      border-left:1px solid rgba(214,214,214,.75);
      box-shadow: -20px 0 60px rgba(11,20,22,.18);
      transform: translateX(110%);
      transition: transform .18s ease;
      z-index:210;
      display:flex; flex-direction:column;
    }
    .drawer.show{transform: translateX(0)}
    .drawer header{
      position:sticky; top:0;
      background:#fff; border-bottom:1px solid rgba(214,214,214,.65);
      padding:12px 14px;
    }
    .drawer h3{margin:0; font-size:16px}
    .drawer .content{padding:12px 14px; overflow:auto; flex:1}
    .row{display:flex; justify-content:space-between; gap:10px; align-items:center}
    .close{border:none; background:transparent; cursor:pointer; font-size:18px; padding:6px 10px; border-radius:12px}
    .close:focus{outline:none; box-shadow:var(--focus)}
    .item{
      border:1px solid rgba(214,214,214,.65);
      border-radius:16px;
      padding:10px;
      display:grid;
      grid-template-columns:64px 1fr;
      gap:10px;
      margin-bottom:10px;
      background:linear-gradient(180deg, #fff, rgba(246,246,243,.35));
    }
    .thumb{
      width:64px; height:64px; border-radius:14px; object-fit:cover; background:#fff; border:1px solid rgba(214,214,214,.65)
    }
    .item b{display:block; font-size:13px}
    .item small{display:block; color:var(--muted); font-size:12px}
    .qty{display:flex; align-items:center; gap:8px; margin-top:8px}
    .qty button{width:30px; height:30px; border-radius:12px; border:1px solid var(--line); background:#fff; cursor:pointer}
    .qty input{width:56px; text-align:center; padding:8px; border-radius:12px; border:1px solid var(--line)}
    .totals{
      border-top:1px solid rgba(214,214,214,.65);
      padding:12px 14px;
      background:rgba(246,246,243,.55);
    }
    .totals .cta{width:100%}

    /* WhatsApp floating */
    .float-wa{
      position:fixed;
      right:16px;
      bottom:16px;
      z-index:220;
      display:flex; flex-direction:column; gap:10px;
    }
    .fab{
      width:56px; height:56px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      color:#fff;
      background:var(--accent);
      box-shadow: 0 14px 30px rgba(248,92,88,.35);
      display:flex; align-items:center; justify-content:center;
    }
    .fab:focus{outline:none; box-shadow:var(--focus), 0 14px 30px rgba(248,92,88,.35)}
    .fab.secondary{background:var(--primary); box-shadow:0 14px 30px rgba(11,20,22,.18)}
    .icon{width:20px; height:20px; display:inline-block}
    .sr{position:absolute; left:-999px; width:1px; height:1px; overflow:hidden}

    /* Mobile */
    @media (max-width: 920px){
      .hero-card{grid-template-columns:1fr}
      .cat{grid-column: span 6}
      .two{grid-column: span 12}
      .three{grid-column: span 12}
      .footgrid{grid-template-columns:1fr}
      .searchwrap{display:none}
      .hamb{display:inline-flex}
      nav{display:none}
      nav.open{display:block}
      .navrow{flex-direction:column; align-items:flex-start}
    }
    @media (max-width: 520px){
      .cat{grid-column: span 12}
      .formrow{grid-template-columns:1fr}
    }

    /* =========================
       v1.1.1 Mobile fix + polish
       ========================= */

    html, body { overflow-x: hidden; }
    body { min-width: 320px; }
    *, *::before, *::after { min-width: 0; }
    img, svg { max-width: 100%; height: auto; }

    a, button { -webkit-tap-highlight-color: transparent; }
    button { touch-action: manipulation; }

    .topbar { flex-wrap: wrap; row-gap: 10px; }
    .brand { min-width: 0; flex: 1 1 auto; }
    .brand-title { min-width: 0; }
    .brand-title b { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .actions { flex-wrap: wrap; gap: 8px; justify-content: flex-end; }

    .hero-card { padding: 18px; }
    .hero h1 { line-height: 1.15; }
    .hero p { line-height: 1.55; font-size: 14.5px; }
    .herobtns { gap: 12px; margin-top: 14px; }
    .section-title { margin-bottom: 12px; }
    .cat { gap: 10px; }
    .tag { max-width: 100%; white-space: normal; }

    .btn, .cta { min-height: 44px; }
    .btn { padding: 12px 16px; }
    .cta { padding: 12px 16px; }

    .btn, .cta, .iconbtn, .cat, .card {
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
    }
    .btn:hover, .cta:hover, .iconbtn:hover, .cat:hover { transform: translateY(-1px); }
    .card:hover { box-shadow: 0 14px 40px rgba(11,20,22,.10); }

    /* —É–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–Ω–µ —É–¥–∞–ª—è–µ–º –∏–∑ HTML) */
    .help { display: none !important; }

    @media (max-width: 520px){
      .container { padding: 0 14px; }
      .iconbtn { width: 40px; height: 40px; }
      .chip { padding: 7px 9px; }
      .herobtns > a, .herobtns > button { flex: 1 1 100%; }
      .btn, .cta { width: 100%; }
      .kpi { gap: 10px; }
      .float-wa { right: 12px; bottom: 12px; }
    }
  </style>
</head>

<body data-page="home">
<a class="skip" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

<header>
  <div class="container">
    <div class="topbar">
      <a class="brand" href="index.html" aria-label="JOHNGALTAZ ‚Äî –Ω–∞ –≥–ª–∞–≤–Ω—É—é">
        <img class="logo" src="images/logo.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø JOHNGALTAZ" />
        <div class="brand-title">
          <b>JOHNGALTAZ</b>
          <small id="ui-subtitle">–í–∏—Ç—Ä–∏–Ω–∞ ‚Ä¢ –ó–∞–∫–∞–∑—ã ‚Ä¢ –ö–ü</small>
        </div>
      </a>

      <div class="searchwrap" role="search">
        <div class="search" aria-label="–ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É">
          <span aria-hidden="true">üîé</span>
          <input id="searchInput" placeholder="–ü–æ–∏—Å–∫: –Ω–æ—É—Ç–±—É–∫, RTX 4060, –º–æ–Ω–∏—Ç–æ—Ä..." autocomplete="off" />
          <button class="btn" id="goCatalogBtn" type="button">–ù–∞–π—Ç–∏</button>
        </div>
      </div>

      <div class="actions">
        <button class="iconbtn hamb" id="hambBtn" type="button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚ò∞</button>

        <span class="chip" title="–Ø–∑—ã–∫">
          <span aria-hidden="true">üåê</span>
          <select id="langSel" aria-label="–í—ã–±–æ—Ä —è–∑—ã–∫–∞">
            <option value="ru">RU</option>
            <option value="kz">KZ</option>
            <option value="en">EN</option>
          </select>
        </span>

        <span class="chip" title="–í–∞–ª—é—Ç–∞">
          <span aria-hidden="true">üí±</span>
          <select id="curSel" aria-label="–í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã">
            <option value="KZT">KZT</option>
            <option value="RUB">RUB</option>
            <option value="USD">USD</option>
          </select>
        </span>

        <button class="iconbtn" id="wishBtn" type="button" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
          ‚ù§ <span class="badge" id="wishCount">0</span>
        </button>
        <button class="iconbtn" id="cmpBtn" type="button" aria-label="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ">
          ‚â° <span class="badge" id="cmpCount">0</span>
        </button>
        <button class="iconbtn" id="cartBtn" type="button" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
          üõí <span class="badge" id="cartCount">0</span>
        </button>
      </div>
    </div>

    <nav id="nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
      <div class="navrow">
        <div class="navlinks">
          <a href="catalog.html" id="navCatalog">–ö–∞—Ç–∞–ª–æ–≥</a>
          <a href="#delivery" id="navDelivery">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a>
          <a href="#guarantee" id="navGuarantee">–ì–∞—Ä–∞–Ω—Ç–∏—è</a>
          <a href="#b2b" id="navB2B">–Æ—Ä. –ª–∏—Ü–∞</a>
          <a href="#contacts" id="navContacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </div>
        <div class="navright">
          <button class="cta" id="openPicker" type="button">–ü–æ–¥–±–æ—Ä –Ω–æ—É—Ç–±—É–∫–∞</button>
          <a class="btn" href="catalog.html?cat=laptops" id="toLaptops">–ò–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏</a>
        </div>
      </div>
    </nav>
  </div>
</header>

<main id="main" class="container">
  <div class="hero">
    <div class="hero-card">
      <div>
        <h1 id="heroTitle">–ò–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏, –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ‚Äî —Å —á–µ—Å—Ç–Ω—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–µ–π</h1>
        <p id="heroText">
          –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ 4 –º–æ–¥–µ–ª–µ–π, –ø—Ä–µ–¥–∑–∞–∫–∞–∑ —Å –ø–æ–º–µ—Ç–∫–æ–π ‚Äú~8 –¥–Ω–µ–π –¥–æ –ê–ª–º–∞—Ç—ã‚Äù –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∑–∞ 1‚Äì2 –º–∏–Ω—É—Ç—ã.
        </p>
        <div class="herobtns">
          <a class="btn primary" href="catalog.html" id="heroGoCatalog">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</a>
          <button class="btn" id="heroOpenCart" type="button">–ö–æ—Ä–∑–∏–Ω–∞</button>
          <button class="btn" id="heroOneClick" type="button">–ö—É–ø–∏—Ç—å –≤ 1 –∫–ª–∏–∫</button>
        </div>
        <div class="help" id="heroHelp">WhatsApp –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏: <b>+7 747 043 67 47</b></div>
      </div>

      <aside class="hero-side">
        <div class="kpi">
          <div class="tile">
            <b id="kpi1">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ 2‚Äì4</b>
            <small id="kpi1s">–ü–æ CPU/GPU/RAM/SSD –∏ –¥—Ä.</small>
          </div>
          <div class="tile">
            <b id="kpi2">–ü—Ä–µ–¥–∑–∞–∫–∞–∑</b>
            <small id="kpi2s">–ü–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ê–ª–º–∞—Ç—ã ~ 8 –¥–Ω–µ–π</small>
          </div>
          <div class="tile">
            <b id="kpi3">B2B / –ö–ü</b>
            <small id="kpi3s">–°—á—ë—Ç –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</small>
          </div>
          <div class="tile">
            <b id="kpi4">–î–æ–∫—É–º–µ–Ω—Ç—ã</b>
            <small id="kpi4s">–î–ª—è –º–µ–¥/–∫–æ—Å–º —Ç–æ–≤–∞—Ä–æ–≤</small>
          </div>
        </div>
        <div class="note" id="noteText">
          ‚ö†Ô∏è –î–ª—è –º–µ–¥/–∫–æ—Å–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç—å –ø–æ–∑–∏—Ü–∏–π –æ—Ñ–æ—Ä–º–ª—è–µ—Ç—Å—è –∫–∞–∫ ‚Äú–ó–∞–ø—Ä–æ—Å –ö–ü‚Äù (–±–µ–∑ –∫–æ—Ä–∑–∏–Ω—ã).
        </div>
      </aside>
    </div>
  </div>

  <section>
    <div class="section-title">
      <h2 id="catTitle">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
      <p id="catDesc">–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏</p>
    </div>

    <div class="grid">
      <a class="card cat" href="catalog.html?cat=laptops">
        <b id="c1">–ò–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏</b>
        <small id="c1s">–§–∏–ª—å—Ç—Ä—ã: CPU/GPU/RAM/SSD/—ç–∫—Ä–∞–Ω/–ì—Ü</small>
        <span class="tag" id="c1t">RTX ‚Ä¢ 144‚Äì240Hz ‚Ä¢ NVMe</span>
      </a>

      <a class="card cat" href="catalog.html?cat=periphery">
        <b id="c2">–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è</b>
        <small id="c2s">–ú—ã—à–∏, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –≥–∞—Ä–Ω–∏—Ç—É—Ä—ã, –º–æ–Ω–∏—Ç–æ—Ä—ã</small>
        <span class="tag" id="c2t">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚Ä¢ –Ω–∞–ª–∏—á–∏–µ</span>
      </a>

      <a class="card cat" href="catalog.html?cat=home">
        <b id="c3">–ú–µ–ª–∫–æ-–±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</b>
        <small id="c3s">–î–ª—è –¥–æ–º–∞ –∏ –æ—Ñ–∏—Å–∞</small>
        <span class="tag" id="c3t">–î–æ—Å—Ç–∞–≤–∫–∞ ‚Ä¢ –≥–∞—Ä–∞–Ω—Ç–∏—è</span>
      </a>

      <a class="card cat" href="catalog.html?cat=cosmo">
        <b id="c4">–ö–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</b>
        <small id="c4s">–î–æ–∫—É–º–µ–Ω—Ç—ã ‚Ä¢ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</small>
        <span class="tag" id="c4t">–ó–∞–ø—Ä–æ—Å –ö–ü</span>
      </a>

      <a class="card cat" href="catalog.html?cat=medical">
        <b id="c5">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</b>
        <small id="c5s">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã ‚Ä¢ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</small>
        <span class="tag" id="c5t">B2B ‚Ä¢ —Å—á—ë—Ç</span>
      </a>

      <a class="card cat" href="catalog.html">
        <b id="c6">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</b>
        <small id="c6s">–ü–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</small>
        <span class="tag" id="c6t">50 –ø–æ–∑–∏—Ü–∏–π (–ø—Ä–∏–º–µ—Ä)</span>
      </a>
    </div>
  </section>

  <section id="delivery">
    <div class="section-title">
      <h2 id="delTitle">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</h2>
      <p id="delDesc">–ü—Ä–µ–¥–∑–∞–∫–∞–∑ –∏ —Å—Ä–æ–∫–∏ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö</p>
    </div>

    <div class="grid">
      <div class="card two pad">
        <b id="del1">–ü—Ä–µ–¥–∑–∞–∫–∞–∑</b>
        <p class="muted" id="del1t" style="margin:8px 0 0">
          –î–ª—è —Ç–æ–≤–∞—Ä–æ–≤ ‚Äú–ü–æ–¥ –∑–∞–∫–∞–∑/–ü—Ä–µ–¥–∑–∞–∫–∞–∑‚Äù –ø–æ–∫–∞–∑—ã–≤–∞–µ–º: <b>‚Äú–ü–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ê–ª–º–∞—Ç—ã ~ 8 –¥–Ω–µ–π + –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É/–≤ —Ä–µ–≥–∏–æ–Ω—ã‚Äù</b>.
          –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äú8 –¥–Ω–µ–π‚Äù ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–æ–≤–∞—Ä–∞/SKU (–≤ –±—É–¥—É—â–µ–º —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É).
        </p>
      </div>
      <div class="card two pad">
        <b id="del2">–û–ø–ª–∞—Ç–∞</b>
        <p class="muted" id="del2t" style="margin:8px 0 0">
          –ù–∞ —ç—Ç–∞–ø–µ 1 ‚Äî –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏/–∑–∞–∫–∞–∑–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Kaspi/—ç–∫–≤–∞–π—Ä–∏–Ω–≥ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–æ–∑–∂–µ.
        </p>
      </div>
    </div>
  </section>

  <section id="guarantee">
    <div class="section-title">
      <h2 id="gTitle">–ì–∞—Ä–∞–Ω—Ç–∏—è –∏ –¥–æ–≤–µ—Ä–∏–µ</h2>
      <p id="gDesc">–ß–µ—Å—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –Ω–∞–ª–∏—á–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</p>
    </div>

    <div class="grid">
      <div class="card three pad">
        <b id="g1">–ù–∞–ª–∏—á–∏–µ</b>
        <p class="muted" id="g1t" style="margin:8px 0 0">–í –∫–∞—Ä—Ç–æ—á–∫–µ: ‚Äú–í –Ω–∞–ª–∏—á–∏–∏‚Äù –∏–ª–∏ ‚Äú–ü–æ–¥ –∑–∞–∫–∞–∑/–ü—Ä–µ–¥–∑–∞–∫–∞–∑‚Äù + —Å—Ä–æ–∫–∏.</p>
      </div>
      <div class="card three pad">
        <b id="g2">–ì–∞—Ä–∞–Ω—Ç–∏—è/–≤–æ–∑–≤—Ä–∞—Ç</b>
        <p class="muted" id="g2t" style="margin:8px 0 0">–°—Å—ã–ª–∫–∏ –∏ –±–ª–æ–∫–∏ ‚Äî –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ (–≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–æ–≤–∞—Ä–∞).</p>
      </div>
      <div class="card three pad">
        <b id="g3">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</b>
        <p class="muted" id="g3t" style="margin:8px 0 0">–î–ª—è –º–µ–¥/–∫–æ—Å–º —Ç–æ–≤–∞—Ä–æ–≤: –¥–æ–∫—É–º–µ–Ω—Ç—ã + ‚Äú–í–∞–∂–Ω–æ/–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è‚Äù.</p>
      </div>
    </div>
  </section>

  <section id="picker">
    <div class="section-title">
      <h2 id="pTitle">–ü–æ–¥–±–æ—Ä –Ω–æ—É—Ç–±—É–∫–∞</h2>
      <p id="pDesc">–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É ‚Äî –æ—Ç–ø—Ä–∞–≤–∏–º –≤ WhatsApp</p>
    </div>

    <div class="card pad">
      <form id="pickerForm">
        <div class="formrow">
          <div class="field">
            <label for="pName" id="pNameL">–ò–º—è</label>
            <input id="pName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–π–±–µ–∫" />
          </div>
          <div class="field">
            <label for="pPhone" id="pPhoneL">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input id="pPhone" required placeholder="+7 ..." />
          </div>
        </div>

        <div class="formrow" style="margin-top:10px">
          <div class="field">
            <label for="pBudget" id="pBudgetL">–ë—é–¥–∂–µ—Ç</label>
            <select id="pBudget">
              <option>–¥–æ 400 000 ‚Ç∏</option>
              <option>400 000 ‚Äì 700 000 ‚Ç∏</option>
              <option>700 000 ‚Äì 1 200 000 ‚Ç∏</option>
              <option>1 200 000 ‚Ç∏ –∏ –≤—ã—à–µ</option>
            </select>
          </div>
          <div class="field">
            <label for="pUse" id="pUseL">–ó–∞–¥–∞—á–∏</label>
            <select id="pUse">
              <option>–ò–≥—Ä—ã (CS2 / Dota / Warzone)</option>
              <option>–ö–∏–±–µ—Ä—Å–ø–æ—Ä—Ç (144‚Äì240Hz)</option>
              <option>–ú–æ–Ω—Ç–∞–∂/3D (GPU/VRAM –≤–∞–∂–Ω–æ)</option>
              <option>–£—á—ë–±–∞/—Ä–∞–±–æ—Ç–∞</option>
            </select>
          </div>
        </div>

        <div class="field" style="margin-top:10px">
          <label for="pNotes" id="pNotesL">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
          <textarea id="pNotes" rows="3" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ö–æ—á—É RTX 4060, 16‚Äì32GB RAM, 1TB SSD"></textarea>
        </div>

        <div class="inline" style="margin-top:12px">
          <button class="cta" type="submit" id="pSend">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ WhatsApp</button>
          <span class="help" id="pHelp">–ú—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî —ç—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–∑–∞—è–≤–∫–∞ —É–π–¥—ë—Ç –≤ WhatsApp).</span>
        </div>
      </form>
    </div>
  </section>

  <section id="b2b">
    <div class="section-title">
      <h2 id="bTitle">–Æ—Ä. –ª–∏—Ü–∞ ‚Ä¢ –ó–∞–ø—Ä–æ—Å –ö–ü</h2>
      <p id="bDesc">–°—á—ë—Ç, —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</p>
    </div>

    <div class="grid">
      <div class="card two pad">
        <b id="b1">–î–ª—è –∫–æ–º–ø–∞–Ω–∏–π</b>
        <p class="muted" id="b1t" style="margin:8px 0 0">
          –í –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –µ—Å—Ç—å —á–µ–∫-–±–æ–∫—Å ‚Äú–Æ—Ä. –ª–∏—Ü–æ‚Äù ‚Äî –ø–æ—è–≤—è—Ç—Å—è –ø–æ–ª—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏, –ë–ò–ù/–ò–ù–ù –∏ e-mail –¥–ª—è —Å—á—ë—Ç–∞.
        </p>
        <div class="inline" style="margin-top:10px">
          <a class="btn" href="catalog.html?b2b=1" id="bGo">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
          <button class="btn" type="button" id="bAsk">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –ö–ü</button>
        </div>
      </div>
      <div class="card two pad">
        <b id="b2">–î–æ–∫—É–º–µ–Ω—Ç—ã</b>
        <p class="muted" id="b2t" style="margin:8px 0 0">
          –î–ª—è –º–µ–¥/–∫–æ—Å–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –±–ª–æ–∫ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.
        </p>
      </div>
    </div>
  </section>

  <section id="contacts">
    <div class="section-title">
      <h2 id="ctTitle">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <p id="ctDesc">–°–≤—è–∑—å –∏ –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏</p>
    </div>

    <div class="card pad">
      <div class="inline">
        <div>
          <b>WhatsApp:</b> <span class="muted">+7 747 043 67 47</span>
          <div class="small">–ò–ü ¬´JOHNGALTAZ¬ª, –ë–ò–ù (–ò–ò–ù): 990819301421</div>
        </div>
        <div style="margin-left:auto" class="inline">
          <button class="cta" type="button" id="waBtn">–ù–∞–ø–∏—Å–∞—Ç—å –≤ WhatsApp</button>
          <a class="btn" href="catalog.html" id="ctCatalog">–ö–∞—Ç–∞–ª–æ–≥</a>
        </div>
      </div>

      <div class="help" style="margin-top:10px" id="policyHint">
        –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª–∏—Ç–∏–∫—É/—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ/cookie ‚Äî –≤ —Ñ—É—Ç–µ—Ä–µ (—Ç–µ—Å—Ç–æ–≤—ã–π –º–∞–∫–µ—Ç).
      </div>
    </div>
  </section>
</main>

<footer class="container">
  <div class="footgrid">
    <div>
      <b>JOHNGALTAZ</b>
      <div class="small">–í–∏—Ç—Ä–∏–Ω–∞ + –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤/–∑–∞—è–≤–æ–∫ (test v1.1)</div>
      <div class="small">¬© <span id="year"></span></div>
    </div>
    <div>
      <b id="fInfo">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</b>
      <a href="#delivery" id="fDel">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a>
      <a href="#guarantee" id="fGar">–ì–∞—Ä–∞–Ω—Ç–∏—è –∏ –≤–æ–∑–≤—Ä–∞—Ç</a>
      <a href="#b2b" id="fB2B">–Æ—Ä. –ª–∏—Ü–∞</a>
      <a href="#contacts" id="fCon">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </div>
    <div>
      <b id="fDocs">–î–æ–∫—É–º–µ–Ω—Ç—ã</b>
      <a href="#policy" id="fPol" onclick="alert('–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/—Ä–∞–∑–¥–µ–ª. –í –≤–µ—Ä—Å–∏–∏ –Ω–∞ 2 —Ñ–∞–π–ª–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –∑–∞–≥–ª—É—à–∫—É.');return false;">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
      <a href="#terms" id="fTerms" onclick="alert('–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/—Ä–∞–∑–¥–µ–ª.');return false;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a>
      <a href="#cookie" id="fCookie" onclick="alert('–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/—Ä–∞–∑–¥–µ–ª.');return false;">Cookie</a>
    </div>
  </div>
</footer>

<!-- Overlay + Drawer -->
<div class="overlay" id="overlay" tabindex="-1" aria-hidden="true"></div>

<aside class="drawer" id="drawer" aria-label="–ü–∞–Ω–µ–ª—å">
  <header class="row">
    <h3 id="drawerTitle">–ü–∞–Ω–µ–ª—å</h3>
    <button class="close" id="drawerClose" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  </header>
  <div class="content" id="drawerContent"></div>
  <div class="totals" id="drawerTotals" style="display:none"></div>
</aside>

<!-- Floating buttons -->
<div class="float-wa" aria-label="–ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏">
  <button class="fab" id="fabWA" type="button" aria-label="WhatsApp">
    <span aria-hidden="true">üí¨</span>
    <span class="sr">WhatsApp</span>
  </button>
</div>

<script>
/* ===========================
   Shared mini-app (2 files)
   =========================== */

const ADMIN_WA = "+77470436747"; // –∏–∑ –¢–ó
const STORE_KEY = "jg_store_v1";

const I18N = {
  ru: {
    subtitle: "–í–∏—Ç—Ä–∏–Ω–∞ ‚Ä¢ –ó–∞–∫–∞–∑—ã ‚Ä¢ –ö–ü",
    navCatalog: "–ö–∞—Ç–∞–ª–æ–≥",
    navDelivery: "–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞",
    navGuarantee: "–ì–∞—Ä–∞–Ω—Ç–∏—è",
    navB2B: "–Æ—Ä. –ª–∏—Ü–∞",
    navContacts: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
    heroTitle: "–ò–≥—Ä–æ–≤—ã–µ –Ω–æ—É—Ç–±—É–∫–∏, –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ‚Äî —Å —á–µ—Å—Ç–Ω—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–µ–π",
    heroText: "–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ 4 –º–æ–¥–µ–ª–µ–π, –ø—Ä–µ–¥–∑–∞–∫–∞–∑ —Å –ø–æ–º–µ—Ç–∫–æ–π ‚Äú~8 –¥–Ω–µ–π –¥–æ –ê–ª–º–∞—Ç—ã‚Äù –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∑–∞ 1‚Äì2 –º–∏–Ω—É—Ç—ã.",
    heroGoCatalog: "–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥",
    catTitle: "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
    catDesc: "–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏",
    bAsk: "–ó–∞–ø—Ä–æ—Å –ö–ü",
    wa: "–ù–∞–ø–∏—Å–∞—Ç—å –≤ WhatsApp",
    cart: "–ö–æ—Ä–∑–∏–Ω–∞",
    wishlist: "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ",
    compare: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ",
    empty: "–ü–æ–∫–∞ –ø—É—Å—Ç–æ",
    checkout: "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑",
  },
  kz: {
    subtitle: "–í–∏—Ç—Ä–∏–Ω–∞ ‚Ä¢ –¢–∞–ø—Å—ã—Ä—ã—Å ‚Ä¢ –ö–ü",
    navCatalog: "–ö–∞—Ç–∞–ª–æ–≥",
    navDelivery: "–ñ–µ—Ç–∫—ñ–∑—É –∂”ô–Ω–µ —Ç”©–ª–µ–º",
    navGuarantee: "–ö–µ–ø—ñ–ª–¥—ñ–∫",
    navB2B: "–ó–∞“£–¥—ã —Ç“±–ª“ì–∞–ª–∞—Ä",
    navContacts: "–ë–∞–π–ª–∞–Ω—ã—Å",
    heroTitle: "–û–π—ã–Ω –Ω–æ—É—Ç–±—É–∫—Ç–∞—Ä—ã, –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è –∂”ô–Ω–µ –∂–∞–±–¥—ã“õ ‚Äî –∞—à—ã“õ –º–µ—Ä–∑—ñ–º –∂”ô–Ω–µ –∫–µ–ø—ñ–ª–¥—ñ–∫–ø–µ–Ω",
    heroText: "–°–∏–ø–∞—Ç—Ç–∞–º–∞–ª–∞—Ä –±–æ–π—ã–Ω—à–∞ –∂—ã–ª–¥–∞–º —ñ–∑–¥–µ—É, 4 –º–æ–¥–µ–ª—å–≥–µ –¥–µ–π—ñ–Ω —Å–∞–ª—ã—Å—Ç—ã—Ä—É, ‚Äú–ê–ª–º–∞—Ç—ã“ì–∞ ~8 –∫“Ø–Ω‚Äù –∞–ª–¥—ã–Ω –∞–ª–∞ —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ–ª–≥—ñ—Å—ñ –∂”ô–Ω–µ ”©—Ç—ñ–Ω—ñ–º–¥—ñ 1‚Äì2 –º–∏–Ω—É—Ç—Ç–∞ —Ä”ô—Å—ñ–º–¥–µ—É.",
    heroGoCatalog: "–ö–∞—Ç–∞–ª–æ–≥“õ–∞ ”©—Ç—É",
    catTitle: "–°–∞–Ω–∞—Ç—Ç–∞—Ä",
    catDesc: "–î–∞–π—ã–Ω —Å“Ø–∑–≥—ñ–ª–µ—Ä–º–µ–Ω –∫–∞—Ç–∞–ª–æ–≥“õ–∞ ”©—Ç—ñ“£—ñ–∑",
    bAsk: "–ö–ü —Å“±—Ä–∞—É",
    wa: "WhatsApp –∂–∞–∑—É",
    cart: "–°–µ–±–µ—Ç",
    wishlist: "–¢–∞“£–¥–∞—É–ª—ã–ª–∞—Ä",
    compare: "–°–∞–ª—ã—Å—Ç—ã—Ä—É",
    empty: "”ò–∑—ñ—Ä–≥–µ –±–æ—Å",
    checkout: "–¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—É",
  },
  en: {
    subtitle: "Showcase ‚Ä¢ Orders ‚Ä¢ Quotes",
    navCatalog: "Catalog",
    navDelivery: "Delivery & Payment",
    navGuarantee: "Warranty",
    navB2B: "Business",
    navContacts: "Contacts",
    heroTitle: "Gaming laptops, peripherals & equipment ‚Äî with honest lead times and warranty",
    heroText: "Fast spec search, compare up to 4 items, preorder tag ‚Äú~8 days to Almaty‚Äù and a 1‚Äì2 minute checkout request.",
    heroGoCatalog: "Open catalog",
    catTitle: "Categories",
    catDesc: "Go to catalog with ready filters",
    bAsk: "Request a quote",
    wa: "WhatsApp",
    cart: "Cart",
    wishlist: "Wishlist",
    compare: "Compare",
    empty: "It‚Äôs empty for now",
    checkout: "Checkout",
  }
};

const FX = { // —Ç–µ—Å—Ç–æ–≤—ã–µ –∫—É—Ä—Å—ã (–ø–æ–º–µ–Ω—è–µ—à—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞–¥–æ)
  KZT: 1,
  RUB: 0.20,  // 1 KZT -> RUB
  USD: 0.0022 // 1 KZT -> USD
};

function loadState(){
  const raw = localStorage.getItem(STORE_KEY);
  return raw ? JSON.parse(raw) : { lang:"ru", cur:"KZT", cart:[], wish:[], cmp:[] };
}
function saveState(s){ localStorage.setItem(STORE_KEY, JSON.stringify(s)); }
function fmtMoney(kzt, cur){
  const rate = FX[cur] ?? 1;
  const val = kzt * rate;
  const opt = { maximumFractionDigits: cur==="KZT" ? 0 : 2 };
  return new Intl.NumberFormat(undefined, opt).format(val) + " " + cur;
}
function waLink(text){
  const msg = encodeURIComponent(text);
  const phone = ADMIN_WA.replace(/\D/g,"");
  return `https://wa.me/${phone}?text=${msg}`;
}
function openWA(text){
  window.open(waLink(text), "_blank", "noopener,noreferrer");
}

const state = loadState();

function setCounts(){
  document.getElementById("wishCount").textContent = state.wish.length;
  document.getElementById("cmpCount").textContent = state.cmp.length;
  document.getElementById("cartCount").textContent = state.cart.reduce((a,i)=>a+i.qty,0);
}
function applyI18N(){
  const t = I18N[state.lang] || I18N.ru;
  const byId = (id, val) => { const el=document.getElementById(id); if(el) el.textContent=val; };

  byId("ui-subtitle", t.subtitle);
  byId("navCatalog", t.navCatalog);
  byId("navDelivery", t.navDelivery);
  byId("navGuarantee", t.navGuarantee);
  byId("navB2B", t.navB2B);
  byId("navContacts", t.navContacts);

  byId("heroTitle", t.heroTitle);
  byId("heroText", t.heroText);
  byId("heroGoCatalog", t.heroGoCatalog);

  byId("catTitle", t.catTitle);
  byId("catDesc", t.catDesc);

  const bAskBtn = document.getElementById("bAsk");
  if(bAskBtn) bAskBtn.textContent = t.bAsk;

  const waBtn = document.getElementById("waBtn");
  if(waBtn) waBtn.textContent = t.wa;

  document.getElementById("year").textContent = new Date().getFullYear();
}

function drawerOpen(title, html, totalsHtml=null){
  const overlay = document.getElementById("overlay");
  const drawer = document.getElementById("drawer");
  document.getElementById("drawerTitle").textContent = title;
  document.getElementById("drawerContent").innerHTML = html;

  const totals = document.getElementById("drawerTotals");
  if(totalsHtml){
    totals.style.display="block";
    totals.innerHTML = totalsHtml;
  } else {
    totals.style.display="none";
    totals.innerHTML = "";
  }

  overlay.classList.add("show");
  drawer.classList.add("show");
  overlay.setAttribute("aria-hidden","false");
  overlay.focus();
}
function drawerClose(){
  document.getElementById("overlay").classList.remove("show");
  document.getElementById("drawer").classList.remove("show");
  document.getElementById("overlay").setAttribute("aria-hidden","true");
}
document.getElementById("drawerClose").addEventListener("click", drawerClose);
document.getElementById("overlay").addEventListener("click", drawerClose);

function renderCart(){
  if(!state.cart.length){
    drawerOpen(I18N[state.lang].cart, `<p class="muted">${I18N[state.lang].empty}</p>`);
    return;
  }

  const rows = state.cart.map(it => `
    <div class="item">
      <div>
        <img class="thumb" src="images/${it.img || "tovar1.jpg"}" alt="">
      </div>
      <div>
        <b>${it.name || it.sku}</b>
        <small>${it.variantName ? it.variantName : ""}</small>
        <small class="muted">${it.stock || ""}</small>
        <div class="qty">
          <button type="button" data-act="dec" data-sku="${it.sku}" data-vid="${it.vid}">‚àí</button>
          <input value="${it.qty}" inputmode="numeric" data-act="qty" data-sku="${it.sku}" data-vid="${it.vid}">
          <button type="button" data-act="inc" data-sku="${it.sku}" data-vid="${it.vid}">+</button>
          <button class="btn" type="button" data-act="rm" data-sku="${it.sku}" data-vid="${it.vid}">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  `).join("");

  const totalKZT = state.cart.reduce((sum,it)=>sum + (it.priceKZT||0)*it.qty, 0);

  drawerOpen(
    I18N[state.lang].cart,
    rows,
    `
      <div class="row" style="margin-bottom:10px">
        <div class="muted">–ò—Ç–æ–≥–æ</div>
        <div><b>${fmtMoney(totalKZT, state.cur)}</b></div>
      </div>
      <button class="cta" id="goCheckout" type="button">${I18N[state.lang].checkout}</button>
      <div class="help">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ (–Ω–∞ 2 —Ñ–∞–π–ª–∞—Ö –º—ã –¥–µ—Ä–∂–∏–º –æ–±—â–∏–π checkout —Ç–∞–º).</div>
    `
  );

  document.getElementById("drawerContent").addEventListener("click", (e)=>{
    const btn = e.target.closest("button");
    if(!btn) return;
    const act = btn.dataset.act;
    if(!act) return;
    const sku = btn.dataset.sku;
    const vid = btn.dataset.vid;
    const idx = state.cart.findIndex(x=>x.sku===sku && String(x.vid)===String(vid));
    if(idx<0) return;
    if(act==="inc") state.cart[idx].qty += 1;
    if(act==="dec") state.cart[idx].qty = Math.max(1, state.cart[idx].qty - 1);
    if(act==="rm") state.cart.splice(idx,1);
    saveState(state); setCounts(); renderCart();
  }, { once:true });

  document.getElementById("goCheckout").addEventListener("click", ()=>{
    location.href = "catalog.html?open=cart";
  });
}

function renderSimpleList(title, arr, type){
  if(!arr.length){
    drawerOpen(title, `<p class="muted">${I18N[state.lang].empty}</p>`);
    return;
  }
  const html = arr.map(sku => `
    <div class="item">
      <img class="thumb" src="images/tovar1.jpg" alt="">
      <div>
        <b>${sku}</b>
        <small class="muted">–û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏.</small>
        <div class="inline" style="margin-top:8px">
          <a class="btn" href="catalog.html?${type}=${encodeURIComponent(sku)}">–û—Ç–∫—Ä—ã—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ</a>
          <button class="btn" type="button" data-sku="${sku}">–£–±—Ä–∞—Ç—å</button>
        </div>
      </div>
    </div>
  `).join("");
  drawerOpen(title, html);
  document.getElementById("drawerContent").addEventListener("click", (e)=>{
    const b = e.target.closest("button");
    if(!b) return;
    const sku = b.dataset.sku;
    if(!sku) return;
    const list = type==="wish" ? state.wish : state.cmp;
    const i = list.indexOf(sku);
    if(i>=0) list.splice(i,1);
    saveState(state); setCounts(); renderSimpleList(title, list, type);
  }, { once:true });
}

/* UI events */
document.getElementById("langSel").value = state.lang;
document.getElementById("curSel").value = state.cur;

document.getElementById("langSel").addEventListener("change", (e)=>{
  state.lang = e.target.value;
  saveState(state); applyI18N();
});
document.getElementById("curSel").addEventListener("change", (e)=>{
  state.cur = e.target.value;
  saveState(state); applyI18N();
});

document.getElementById("hambBtn").addEventListener("click", ()=>{
  const nav = document.getElementById("nav");
  nav.classList.toggle("open");
});

document.getElementById("cartBtn").addEventListener("click", renderCart);
document.getElementById("wishBtn").addEventListener("click", ()=>renderSimpleList(I18N[state.lang].wishlist, state.wish, "wish"));
document.getElementById("cmpBtn").addEventListener("click", ()=>renderSimpleList(I18N[state.lang].compare, state.cmp, "cmp"));
document.getElementById("heroOpenCart").addEventListener("click", renderCart);

document.getElementById("goCatalogBtn").addEventListener("click", ()=>{
  const q = document.getElementById("searchInput").value.trim();
  location.href = "catalog.html" + (q ? `?q=${encodeURIComponent(q)}` : "");
});
document.getElementById("searchInput").addEventListener("keydown", (e)=>{
  if(e.key==="Enter"){ e.preventDefault(); document.getElementById("goCatalogBtn").click(); }
});

document.getElementById("waBtn").addEventListener("click", ()=>{
  openWA("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Ç–æ–≤–∞—Ä–∞–º JOHNGALTAZ.");
});
document.getElementById("fabWA").addEventListener("click", ()=>{
  openWA("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Ç–æ–≤–∞—Ä–∞–º JOHNGALTAZ.");
});

document.getElementById("heroOneClick").addEventListener("click", ()=>{
  location.href = "catalog.html?open=oneclick";
});

document.getElementById("openPicker").addEventListener("click", ()=>{
  document.getElementById("picker").scrollIntoView({behavior:"smooth"});
});

document.getElementById("bAsk").addEventListener("click", ()=>{
  openWA("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ö–ü (—é—Ä. –ª–∏—Ü–∞). –ü–æ–¥—Å–∫–∞–∂–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∏ —Å—Ä–æ–∫–∏.");
});

document.getElementById("pickerForm").addEventListener("submit", (e)=>{
  e.preventDefault();
  const name = document.getElementById("pName").value.trim();
  const phone = document.getElementById("pPhone").value.trim();
  const budget = document.getElementById("pBudget").value;
  const use = document.getElementById("pUse").value;
  const notes = document.getElementById("pNotes").value.trim();
  const text =
`–ó–∞—è–≤–∫–∞: –ü–æ–¥–±–æ—Ä –Ω–æ—É—Ç–±—É–∫–∞
–ò–º—è: ${name}
–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}
–ë—é–¥–∂–µ—Ç: ${budget}
–ó–∞–¥–∞—á–∏: ${use}
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${notes || "-"}
(–°–∞–π—Ç JOHNGALTAZ)`;
  openWA(text);
});

setCounts();
applyI18N();
</script>
</body>
</html>
