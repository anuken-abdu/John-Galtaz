<!doctype html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="JOHNGALTAZ — витрина: игровые ноутбуки, периферия, бытовая техника, косметическое и медицинское оборудование. Заказ за 1–2 минуты." />
  <title>JOHNGALTAZ — интернет-магазин</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary: #0F172A;
      --accent: #F85C58;
      --accent-hover: #E04845;
      --bg: #F8FAFC;
      --card: #FFFFFF;
      --muted: #64748B;
      --line: #E2E8F0;
      --shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
      --shadow-hover: 0 20px 40px rgba(15, 23, 42, 0.12);
      --radius: 14px;
      --radius2: 24px;
      --max: 1200px;
      --focus: 0 0 0 3px rgba(248,92,88,.25);
      --font: 'Inter', system-ui, -apple-system, sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%; scroll-behavior: smooth;}
    body{
      margin:0; min-width:320px;
      font-family:var(--font);
      color:var(--primary);
      background:var(--bg);
      line-height:1.5;
      -webkit-font-smoothing: antialiased;
    }
    a{color:inherit; text-decoration:none}
    button, input, select, textarea{font:inherit}
    a, button { -webkit-tap-highlight-color: transparent; }
    
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

    .container{max-width:var(--max); margin:0 auto; padding:0 20px}
    .skip{position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.9);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom:1px solid rgba(226,232,240,.8);
    }
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:12px; min-width:190px}
    .logo{
      width:48px; height:48px; border-radius:12px;
      object-fit:cover; background:#fff; box-shadow:0 4px 12px rgba(15,23,42,.08);
    }
    .brand-title{display:flex; flex-direction:column; gap:2px}
    .brand-title b{letter-spacing:-0.02em; font-weight:800; font-size:18px}
    .brand-title small{color:var(--muted); font-size:12px; font-weight:500}

    .searchwrap{flex:1; display:flex; gap:10px; align-items:center; max-width: 500px; margin: 0 auto;}
    .search{
      width:100%; display:flex; gap:10px; align-items:center;
      background:var(--bg); border:1px solid var(--line);
      border-radius:999px; padding:8px 8px 8px 16px; transition:0.2s;
    }
    .search i { color: var(--muted); }
    .search:focus-within{background:#fff; border-color:rgba(248,92,88,.4); box-shadow:var(--focus)}
    .search input{border:none; outline:none; width:100%; background:transparent; font-size:14px}
    
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line); background:#fff;
      border-radius:999px; padding:8px 14px;
      color:var(--primary); font-size:13px; font-weight:600;
      transition:0.2s;
    }
    .chip:hover { border-color: #CBD5E1; }
    .chip i { color: var(--accent); font-size: 15px; }
    .chip select{border:none; outline:none; background:transparent; padding:0; margin:0; cursor:pointer; font-weight:600}

    .actions{display:flex; align-items:center; gap:10px;}
    .iconbtn{
      position:relative;
      display:inline-flex; align-items:center; justify-content:center;
      width:46px; height:46px; border-radius:50%;
      border:1px solid var(--line); background:#fff;
      cursor:pointer; font-size:18px; color:var(--primary);
      transition:0.2s;
    }
    .iconbtn:hover{transform:translateY(-2px); border-color:#CBD5E1; background:#F8FAFC}
    .badge{
      position:absolute; top:-4px; right:-4px;
      min-width:20px; height:20px; padding:0 6px;
      background:var(--accent); color:#fff; border-radius:10px;
      font-size:11px; font-weight:700; display:flex; align-items:center; justify-content:center;
      border:2px solid #fff; box-shadow:0 2px 6px rgba(248,92,88,.4);
    }
    .hamb{display:none}

    nav{padding:0 0 12px 0;}
    .navrow{display:flex; align-items:center; justify-content:space-between; gap:16px;}
    .navlinks{display:flex; gap:6px; flex-wrap:wrap}
    .navlinks a{
      padding:8px 16px; border-radius:999px; font-weight:500;
      color:var(--muted); font-size:14px; transition:0.2s;
    }
    .navlinks a:hover{color:var(--primary); background:rgba(15,23,42,.04)}
    .navright{display:flex; gap:12px; align-items:center}

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 20px; min-height:44px;
      border-radius:999px; border:1px solid var(--line);
      background:#fff; cursor:pointer; font-weight:600; font-size:14px;
      transition:0.2s;
    }
    .btn:hover{border-color:#CBD5E1; background:#F8FAFC; transform:translateY(-1px)}
    .btn.primary{background:var(--primary); border-color:var(--primary); color:#fff}
    .btn.primary:hover{background:#1E293B}
    
    .cta{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 24px; min-height:44px;
      border-radius:999px; background:var(--accent); color:#fff; border:none;
      cursor:pointer; box-shadow:0 8px 20px rgba(248,92,88,.25);
      font-weight:700; font-size:14px; transition:0.2s;
    }
    .cta:hover{transform:translateY(-2px); box-shadow:0 12px 24px rgba(248,92,88,.35); background:var(--accent-hover)}

    /* Hero */
    .hero{padding:32px 0 24px}
    .hero-card{
      background:linear-gradient(135deg, #fff, #F8FAFC);
      border:1px solid var(--line);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      padding:32px;
      display:grid; grid-template-columns: 1.2fr .8fr; gap:32px;
      position: relative; overflow: hidden;
    }
    .hero-card::before {
      content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(248,92,88,0.03) 0%, transparent 60%); pointer-events: none;
    }
    .hero h1{margin:0 0 16px 0; font-size: clamp(28px, 3vw, 42px); font-weight:800; letter-spacing:-0.02em; line-height:1.2; position: relative;}
    .hero p{margin:0 0 24px 0; color:var(--muted); font-size:16px; max-width:60ch; line-height:1.6; position: relative;}
    .herobtns{display:flex; gap:12px; flex-wrap:wrap; position: relative;}
    .hero-side{display:flex; flex-direction:column; gap:16px; position: relative;}
    .kpi{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    .kpi .tile{
      border:1px solid var(--line); border-radius:16px; padding:16px;
      background:#fff; transition:0.3s;
    }
    .kpi .tile:hover { box-shadow: var(--shadow); transform: translateY(-2px); }
    .kpi .tile i { color: var(--accent); font-size: 20px; margin-bottom: 8px; display: block; }
    .tile b{display:block; font-size:15px; font-weight:700}
    .tile small{color:var(--muted); font-size:13px; margin-top:4px; display:block}
    .note{
      border-left:4px solid var(--accent); padding:16px;
      border-radius:0 16px 16px 0; background:rgba(248,92,88,.05);
      font-size:14px; font-weight:500; display:flex; gap:12px; align-items:flex-start;
    }
    .note i { color: var(--accent); font-size: 18px; margin-top: 2px; }

    /* Sections */
    section{padding:32px 0}
    .section-title{display:flex; align-items:flex-end; justify-content:space-between; gap:16px; margin-bottom:24px}
    .section-title h2{margin:0; font-size:24px; font-weight:800; letter-spacing:-0.01em}
    .section-title p{margin:8px 0 0; color:var(--muted); font-size:15px}

    .grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:20px;}
    .card{background:#fff; border:1px solid var(--line); border-radius:var(--radius2); box-shadow:var(--shadow); transition:0.3s}
    .card:hover { box-shadow: var(--shadow-hover); }
    .pad{padding:24px}
    
    .cat{
      grid-column: span 4; display:flex; flex-direction:column; gap:12px;
      padding:24px; cursor:pointer; transition: 0.3s;
    }
    .cat:hover{transform:translateY(-4px); border-color:#CBD5E1}
    .cat-icon { width: 48px; height: 48px; border-radius: 12px; background: #F1F5F9; display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--primary); margin-bottom: 8px; transition: 0.3s; }
    .cat:hover .cat-icon { background: var(--accent); color: #fff; }
    .cat b{font-size:18px; font-weight:700}
    .cat small{color:var(--muted); font-size:14px; line-height: 1.5; flex: 1;}
    .cat .tag{display:inline-flex; width:max-content; gap:6px; align-items:center; border:1px solid var(--line); border-radius:8px; padding:6px 12px; font-size:12px; font-weight:600; background:#F8FAFC}

    .two{grid-column: span 6;}
    .three{grid-column: span 4;}
    
    .formrow{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    .field label{display:block; font-size:13px; font-weight:600; color:var(--muted); margin-bottom:8px}
    .field input, .field select, .field textarea{
      width:100%; padding:12px 16px; border-radius:12px;
      border:1px solid var(--line); outline:none; background:var(--bg); font-size:14px; transition:0.2s;
    }
    .field input:focus, .field select:focus, .field textarea:focus{background:#fff; box-shadow:var(--focus); border-color:var(--accent)}
    .help{color:var(--muted); font-size:13px; margin-top:8px}
    .inline{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
    .muted{color:var(--muted)}
    
    footer{
      padding:40px 0 80px; border-top:1px solid var(--line); margin-top:40px;
    }
    .footgrid{display:grid; grid-template-columns:2fr 1fr 1fr; gap:32px}
    .footgrid b { font-size: 16px; margin-bottom: 12px; display: block; }
    .footgrid a{display:block; padding:8px 0; color:var(--muted); font-size: 14px; transition: 0.2s;}
    .footgrid a:hover{color:var(--accent); padding-left: 4px; }
    .small{font-size:13px; color:var(--muted); margin-top: 8px;}

    /* Drawer / Modal */
    .overlay{position:fixed; inset:0; background:rgba(15,23,42,.6); backdrop-filter: blur(4px); display:none; z-index:200; opacity: 0; transition: 0.3s;}
    .overlay.show{display:block; opacity: 1;}
    .drawer{
      position:fixed; top:0; right:0; width:min(480px, 100vw); height:100%;
      background:#fff; box-shadow:-20px 0 60px rgba(15,23,42,.15);
      transform: translateX(100%); transition: transform .3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index:210; display:flex; flex-direction:column;
    }
    .drawer.show{transform: translateX(0)}
    .drawer header{position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line); padding:16px 20px;}
    .drawer h3{margin:0; font-size:18px; font-weight:700}
    .drawer .content{padding:20px; overflow:auto; flex:1}
    .row{display:flex; justify-content:space-between; gap:12px; align-items:center}
    .close{border:none; background:var(--bg); cursor:pointer; font-size:18px; width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; transition:0.2s; color:var(--muted)}
    .close:hover{background:#E2E8F0; color:var(--primary); transform:rotate(90deg)}
    
    .item{
      border:1px solid var(--line); border-radius:16px; padding:12px;
      display:grid; grid-template-columns:72px 1fr; gap:16px; margin-bottom:12px; background:#fff;
    }
    .thumb{width:72px; height:72px; border-radius:10px; object-fit:cover; background:var(--bg); border:1px solid var(--line)}
    .item b{display:block; font-size:14px; font-weight:600; margin-bottom:4px}
    .item small{display:block; color:var(--muted); font-size:12px}
    .qty{display:flex; align-items:center; gap:8px; margin-top:10px; flex-wrap:wrap}
    .qty button{width:32px; height:32px; border-radius:8px; border:1px solid var(--line); background:var(--bg); cursor:pointer; font-weight:600; color:var(--primary)}
    .qty input{width:48px; height:32px; text-align:center; border-radius:8px; border:1px solid var(--line); font-weight:600}
    .totals{border-top:1px solid var(--line); padding:20px; background:#F8FAFC;}
    .totals .cta{width:100%; font-size:16px; padding:16px}

    /* WhatsApp floating */
    .float-wa{position:fixed; right:24px; bottom:24px; z-index:220; display:flex; flex-direction:column; gap:12px;}
    .fab{
      width:60px; height:60px; border-radius:50%; border:none; cursor:pointer;
      color:#fff; background:linear-gradient(135deg, #25D366, #128C7E);
      box-shadow:0 10px 24px rgba(37,211,102,.3);
      display:flex; align-items:center; justify-content:center; font-size:28px; transition:0.3s;
    }
    .fab:hover{transform:scale(1.08) translateY(-4px); box-shadow:0 16px 32px rgba(37,211,102,.4)}
    .sr{position:absolute; left:-999px; width:1px; height:1px; overflow:hidden}

    /* =========================================
       МОБИЛЬНАЯ АДАПТАЦИЯ (ИДЕАЛЬНАЯ СЕТКА)
       ========================================= */
    @media (max-width: 920px){
      /* Новая сетка шапки для планшетов и телефонов */
      .topbar {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 12px;
        padding: 12px 0;
      }
      .brand { grid-column: 1 / 2; }
      .hamb { display: inline-flex !important; }
      
      /* Поиск уходит на вторую строку */
      .searchwrap { grid-column: 1 / -1; max-width: 100%; margin: 0; }
      
      /* Кнопки выстраиваются в ряд с горизонтальным скроллом, если не влезают */
      .actions {
        grid-column: 1 / -1;
        display: flex; justify-content: flex-start;
        flex-wrap: nowrap; overflow-x: auto;
        padding-bottom: 8px; gap: 10px;
      }
      /* Убираем видимый скроллбар для эстетики */
      .actions::-webkit-scrollbar { display: none; }
      .chip, .iconbtn { flex-shrink: 0; }

      nav{display:none; margin-top: 12px; border-top: 1px solid var(--line); padding-top: 12px;}
      nav.open{display:block}
      .navrow{flex-direction:column; align-items:flex-start}
      
      .hero-card{grid-template-columns:1fr; padding: 24px;}
      .cat{grid-column: span 6}
      .two, .three {grid-column: span 12}
      .footgrid{grid-template-columns:1fr}
    }
    
    @media (max-width: 520px){
      .container{padding:0 16px}
      .iconbtn{width:42px; height:42px; font-size: 16px;}
      .hero h1 { font-size: 26px; }
      .cat{grid-column: span 12}
      .formrow, .kpi {grid-template-columns:1fr}
      .float-wa{right:16px; bottom:16px}
      .fab{width:54px; height:54px; font-size:24px}
    }
  </style>
</head>

<body data-page="home">
<a class="skip" href="#main">Перейти к содержимому</a>

<header>
  <div class="container">
    <div class="topbar">
      <a class="brand" href="index.html" aria-label="JOHNGALTAZ — на главную">
        <img class="logo" src="images/logo.jpg" alt="Логотип JOHNGALTAZ" onerror="this.src='https://via.placeholder.com/48?text=GTZ'"/>
        <div class="brand-title">
          <b>JOHNGALTAZ</b>
          <small id="ui-subtitle">Витрина • Заказы • КП</small>
        </div>
      </a>
      
      <button class="iconbtn hamb" id="hambBtn" type="button" aria-label="Открыть меню">
        <i class="fa-solid fa-bars"></i>
      </button>

      <div class="searchwrap" role="search">
        <div class="search" aria-label="Поиск по каталогу">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="searchInput" placeholder="Поиск: ноутбук, RTX 4060, монитор..." autocomplete="off" />
          <button class="btn" id="goCatalogBtn" type="button" style="padding: 6px 14px; min-height: 36px;">Найти</button>
        </div>
      </div>

      <div class="actions">
        <span class="chip" title="Язык">
          <i class="fa-solid fa-globe"></i>
          <select id="langSel" aria-label="Выбор языка">
            <option value="ru">RU</option>
            <option value="kz">KZ</option>
            <option value="en">EN</option>
          </select>
        </span>

        <span class="chip" title="Валюта">
          <i class="fa-solid fa-money-bill-transfer"></i>
          <select id="curSel" aria-label="Выбор валюты">
            <option value="KZT">KZT</option>
            <option value="RUB">RUB</option>
            <option value="USD">USD</option>
          </select>
        </span>

        <button class="iconbtn" id="wishBtn" type="button" aria-label="Избранное">
          <i class="fa-regular fa-heart"></i>
          <span class="badge" id="wishCount">0</span>
        </button>
        <button class="iconbtn" id="cmpBtn" type="button" aria-label="Сравнение">
          <i class="fa-solid fa-scale-balanced"></i>
          <span class="badge" id="cmpCount">0</span>
        </button>
        <button class="iconbtn" id="cartBtn" type="button" aria-label="Корзина">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="badge" id="cartCount">0</span>
        </button>
      </div>
    </div>

    <nav id="nav" aria-label="Основная навигация">
      <div class="navrow">
        <div class="navlinks">
          <a href="catalog.html" id="navCatalog">Каталог</a>
          <a href="#delivery" id="navDelivery">Доставка и оплата</a>
          <a href="#guarantee" id="navGuarantee">Гарантия</a>
          <a href="#b2b" id="navB2B">Юр. лица</a>
          <a href="#contacts" id="navContacts">Контакты</a>
        </div>
        <div class="navright">
          <button class="cta" id="openPicker" type="button"><i class="fa-solid fa-laptop-code"></i> Подбор ноутбука</button>
          <a class="btn" href="catalog.html?cat=laptops" id="toLaptops">Игровые ноутбуки</a>
        </div>
      </div>
    </nav>
  </div>
</header>

<main id="main" class="container">
  <div class="hero">
    <div class="hero-card">
      <div>
        <h1 id="heroTitle">Игровые ноутбуки, периферия и оборудование — с честными сроками и гарантией</h1>
        <p id="heroText">
          Быстрый поиск по характеристикам, сравнение до 4 моделей, предзаказ с пометкой “~8 дней до Алматы” и оформление заявки за 1–2 минуты.
        </p>
        <div class="herobtns">
          <a class="btn primary" href="catalog.html" id="heroGoCatalog">Открыть каталог</a>
          <button class="btn" id="heroOpenCart" type="button"><i class="fa-solid fa-cart-shopping"></i> Корзина</button>
          <button class="btn" id="heroOneClick" type="button"><i class="fa-solid fa-bolt"></i> Купить в 1 клик</button>
        </div>
        <div class="help" id="heroHelp" style="margin-top: 16px;"><i class="fa-brands fa-whatsapp" style="color:#25D366"></i> WhatsApp для консультации: <b>+7 747 043 67 47</b></div>
      </div>

      <aside class="hero-side">
        <div class="kpi">
          <div class="tile">
            <i class="fa-solid fa-scale-balanced"></i>
            <b id="kpi1">Сравнение 2–4</b>
            <small id="kpi1s">По CPU/GPU/RAM/SSD</small>
          </div>
          <div class="tile">
            <i class="fa-solid fa-truck-fast"></i>
            <b id="kpi2">Предзаказ</b>
            <small id="kpi2s">Доставка до Алматы ~ 8 дней</small>
          </div>
          <div class="tile">
            <i class="fa-solid fa-file-invoice-dollar"></i>
            <b id="kpi3">B2B / КП</b>
            <small id="kpi3s">Счёт и реквизиты</small>
          </div>
          <div class="tile">
            <i class="fa-solid fa-file-medical"></i>
            <b id="kpi4">Документы</b>
            <small id="kpi4s">Для мед/косм товаров</small>
          </div>
        </div>
        <div class="note" id="noteText">
          <i class="fa-solid fa-circle-exclamation"></i>
          <div>Для мед/косм оборудования часть позиций оформляется как “Запрос КП” (без корзины).</div>
        </div>
      </aside>
    </div>
  </div>

  <section>
    <div class="section-title">
      <div>
        <h2 id="catTitle">Категории</h2>
        <p id="catDesc">Перейдите в каталог с готовыми фильтрами</p>
      </div>
    </div>

    <div class="grid">
      <a class="card cat" href="catalog.html?cat=laptops">
        <div class="cat-icon"><i class="fa-solid fa-laptop"></i></div>
        <b id="c1">Игровые ноутбуки</b>
        <small id="c1s">Фильтры: CPU/GPU/RAM/SSD/экран/Гц</small>
        <span class="tag" id="c1t">RTX • 144–240Hz • NVMe</span>
      </a>

      <a class="card cat" href="catalog.html?cat=periphery">
        <div class="cat-icon"><i class="fa-solid fa-headset"></i></div>
        <b id="c2">Периферия</b>
        <small id="c2s">Мыши, клавиатуры, гарнитуры, мониторы</small>
        <span class="tag" id="c2t">Сортировка • наличие</span>
      </a>

      <a class="card cat" href="catalog.html?cat=home">
        <div class="cat-icon"><i class="fa-solid fa-blender"></i></div>
        <b id="c3">Мелко-бытовая техника</b>
        <small id="c3s">Для дома и офиса</small>
        <span class="tag" id="c3t">Доставка • гарантия</span>
      </a>

      <a class="card cat" href="catalog.html?cat=cosmo">
        <div class="cat-icon"><i class="fa-solid fa-spa"></i></div>
        <b id="c4">Косметическое оборудование</b>
        <small id="c4s">Документы • предупреждения</small>
        <span class="tag" id="c4t">Запрос КП</span>
      </a>

      <a class="card cat" href="catalog.html?cat=medical">
        <div class="cat-icon"><i class="fa-solid fa-stethoscope"></i></div>
        <b id="c5">Медицинское оборудование</b>
        <small id="c5s">Сертификаты • инструкции</small>
        <span class="tag" id="c5t">B2B • счёт</span>
      </a>

      <a class="card cat" href="catalog.html" style="background: var(--primary); color: #fff; border-color: var(--primary);">
        <div class="cat-icon" style="background: rgba(255,255,255,0.1); color: #fff;"><i class="fa-solid fa-border-all"></i></div>
        <b id="c6">Все товары</b>
        <small id="c6s" style="color: #CBD5E1;">Поиск, фильтры, избранное и сравнение</small>
        <span class="tag" id="c6t" style="background: rgba(255,255,255,0.1); color: #fff; border:none;">Перейти в каталог <i class="fa-solid fa-arrow-right"></i></span>
      </a>
    </div>
  </section>

  <section id="delivery">
    <div class="section-title">
      <div>
        <h2 id="delTitle">Доставка и оплата</h2>
        <p id="delDesc">Предзаказ и сроки — отображаются в карточках</p>
      </div>
    </div>

    <div class="grid">
      <div class="card two pad">
        <b id="del1"><i class="fa-solid fa-box" style="color:var(--accent); margin-right:8px;"></i> Предзаказ</b>
        <p class="muted" id="del1t" style="margin:8px 0 0">
          Для товаров “Под заказ/Предзаказ” показываем: <b>“Поставка до Алматы ~ 8 дней + доставка по городу/в регионы”</b>.
          Значение “8 дней” — по умолчанию и может переопределяться на уровне товара/SKU.
        </p>
      </div>
      <div class="card two pad">
        <b id="del2"><i class="fa-solid fa-credit-card" style="color:var(--accent); margin-right:8px;"></i> Оплата</b>
        <p class="muted" id="del2t" style="margin:8px 0 0">
          На этапе 1 — оформление заявки/заказа и отправка администратору. Интеграции Kaspi/эквайринг можно подключить позже.
        </p>
      </div>
    </div>
  </section>

  <section id="guarantee">
    <div class="section-title">
      <div>
        <h2 id="gTitle">Гарантия и доверие</h2>
        <p id="gDesc">Честные статусы наличия и документы</p>
      </div>
    </div>

    <div class="grid">
      <div class="card three pad">
        <b id="g1"><i class="fa-solid fa-check-circle" style="color:var(--ok); margin-right:8px;"></i> Наличие</b>
        <p class="muted" id="g1t" style="margin:8px 0 0">В карточке: “В наличии” или “Под заказ/Предзаказ” + сроки.</p>
      </div>
      <div class="card three pad">
        <b id="g2"><i class="fa-solid fa-shield-halved" style="color:var(--accent); margin-right:8px;"></i> Гарантия/возврат</b>
        <p class="muted" id="g2t" style="margin:8px 0 0">Ссылки и блоки — на главной и в каталоге (в модальном окне товара).</p>
      </div>
      <div class="card three pad">
        <b id="g3"><i class="fa-solid fa-file-contract" style="color:var(--primary); margin-right:8px;"></i> Сертификаты</b>
        <p class="muted" id="g3t" style="margin:8px 0 0">Для мед/косм товаров: документы + “Важно/предупреждения”.</p>
      </div>
    </div>
  </section>

  <section id="picker">
    <div class="section-title">
      <div>
        <h2 id="pTitle">Подбор ноутбука</h2>
        <p id="pDesc">Оставьте заявку — отправим в WhatsApp</p>
      </div>
    </div>

    <div class="card pad">
      <form id="pickerForm">
        <div class="formrow">
          <div class="field">
            <label for="pName" id="pNameL">Имя</label>
            <input id="pName" required placeholder="Например: Айбек" />
          </div>
          <div class="field">
            <label for="pPhone" id="pPhoneL">Телефон</label>
            <input id="pPhone" required placeholder="+7 ..." />
          </div>
        </div>

        <div class="formrow" style="margin-top:16px">
          <div class="field">
            <label for="pBudget" id="pBudgetL">Бюджет</label>
            <select id="pBudget">
              <option>до 400 000 ₸</option>
              <option>400 000 – 700 000 ₸</option>
              <option>700 000 – 1 200 000 ₸</option>
              <option>1 200 000 ₸ и выше</option>
            </select>
          </div>
          <div class="field">
            <label for="pUse" id="pUseL">Задачи</label>
            <select id="pUse">
              <option>Игры (CS2 / Dota / Warzone)</option>
              <option>Киберспорт (144–240Hz)</option>
              <option>Монтаж/3D (GPU/VRAM важно)</option>
              <option>Учёба/работа</option>
            </select>
          </div>
        </div>

        <div class="field" style="margin-top:16px">
          <label for="pNotes" id="pNotesL">Комментарии</label>
          <textarea id="pNotes" rows="3" placeholder="Например: хочу RTX 4060, 16–32GB RAM, 1TB SSD"></textarea>
        </div>

        <div class="inline" style="margin-top:20px">
          <button class="cta" type="submit" id="pSend"><i class="fa-brands fa-whatsapp"></i> Отправить в WhatsApp</button>
          <span class="help" id="pHelp"><i class="fa-solid fa-lock" style="font-size:10px;"></i> Мы не сохраняем данные на сервере (заявка уйдёт напрямую в WhatsApp).</span>
        </div>
      </form>
    </div>
  </section>

  <section id="b2b">
    <div class="section-title">
      <div>
        <h2 id="bTitle">Юр. лица • Запрос КП</h2>
        <p id="bDesc">Счёт, реквизиты и консультация</p>
      </div>
    </div>

    <div class="grid">
      <div class="card two pad">
        <b id="b1"><i class="fa-solid fa-building" style="color:var(--primary); margin-right:8px;"></i> Для компаний</b>
        <p class="muted" id="b1t" style="margin:8px 0 0">
          В оформлении заказа есть чек-бокс “Юр. лицо” — появятся поля для компании, БИН/ИНН и e-mail для счёта.
        </p>
        <div class="inline" style="margin-top:16px">
          <a class="btn" href="catalog.html?b2b=1" id="bGo">Перейти в каталог</a>
          <button class="btn" type="button" id="bAsk"><i class="fa-solid fa-file-signature"></i> Запросить КП</button>
        </div>
      </div>
      <div class="card two pad">
        <b id="b2"><i class="fa-solid fa-folder-open" style="color:var(--muted); margin-right:8px;"></i> Документы</b>
        <p class="muted" id="b2t" style="margin:8px 0 0">
          Для мед/косм оборудования в карточке товара предусмотрены документы и блок предупреждений.
        </p>
      </div>
    </div>
  </section>

  <section id="contacts">
    <div class="section-title">
      <div>
        <h2 id="ctTitle">Контакты</h2>
        <p id="ctDesc">Связь и быстрые кнопки</p>
      </div>
    </div>

    <div class="card pad">
      <div class="inline">
        <div>
          <b><i class="fa-brands fa-whatsapp" style="color:#25D366"></i> WhatsApp:</b> <span class="muted">+7 747 043 67 47</span>
          <div class="small">ИП «JOHNGALTAZ», БИН (ИИН): 990819301421</div>
        </div>
        <div style="margin-left:auto" class="inline">
          <button class="cta" type="button" id="waBtn">Написать в WhatsApp</button>
          <a class="btn" href="catalog.html" id="ctCatalog">Каталог</a>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="container">
  <div class="footgrid">
    <div>
      <b style="font-size:18px; font-weight:800; letter-spacing:-0.02em;">JOHNGALTAZ</b>
      <div class="small">Витрина + оформление заказов/заявок</div>
      <div class="small">© <span id="year"></span> Все права защищены.</div>
    </div>
    <div>
      <b id="fInfo">Информация</b>
      <a href="#delivery" id="fDel">Доставка и оплата</a>
      <a href="#guarantee" id="fGar">Гарантия и возврат</a>
      <a href="#b2b" id="fB2B">Юр. лица</a>
      <a href="#contacts" id="fCon">Контакты</a>
    </div>
    <div>
      <b id="fDocs">Документы</b>
      <a href="#policy" id="fPol" onclick="alert('Здесь будет отдельная страница');return false;">Политика конфиденциальности</a>
      <a href="#terms" id="fTerms" onclick="alert('Здесь будет отдельная страница');return false;">Пользовательское соглашение</a>
      <a href="#cookie" id="fCookie" onclick="alert('Здесь будет отдельная страница');return false;">Cookie</a>
    </div>
  </div>
</footer>

<div class="overlay" id="overlay" tabindex="-1" aria-hidden="true"></div>

<aside class="drawer" id="drawer" aria-label="Панель">
  <header class="row">
    <h3 id="drawerTitle">Панель</h3>
    <button class="close" id="drawerClose" type="button" aria-label="Закрыть"><i class="fa-solid fa-xmark"></i></button>
  </header>
  <div class="content" id="drawerContent"></div>
  <div class="totals" id="drawerTotals" style="display:none"></div>
</aside>

<div class="float-wa" aria-label="Быстрые кнопки">
  <button class="fab" id="fabWA" type="button" aria-label="WhatsApp">
    <i class="fa-brands fa-whatsapp"></i>
    <span class="sr">WhatsApp</span>
  </button>
</div>

<script>
/* ===========================
   Shared mini-app (2 files)
   =========================== */

const ADMIN_WA = "+77470436747"; 
const STORE_KEY = "jg_store_v1";

const I18N = {
  ru: {
    subtitle: "Витрина • Заказы • КП",
    navCatalog: "Каталог",
    navDelivery: "Доставка и оплата",
    navGuarantee: "Гарантия",
    navB2B: "Юр. лица",
    navContacts: "Контакты",
    heroTitle: "Игровые ноутбуки, периферия и оборудование — с честными сроками и гарантией",
    heroText: "Быстрый поиск по характеристикам, сравнение до 4 моделей, предзаказ с пометкой “~8 дней до Алматы” и оформление заявки за 1–2 минуты.",
    heroGoCatalog: "Открыть каталог",
    catTitle: "Категории",
    catDesc: "Перейдите в каталог с готовыми фильтрами",
    bAsk: "Запрос КП",
    wa: "Написать в WhatsApp",
    cart: "Корзина",
    wishlist: "Избранное",
    compare: "Сравнение",
    empty: "Пока пусто",
    checkout: "Оформить заказ",
  },
  kz: {
    subtitle: "Витрина • Тапсырыс • КП",
    navCatalog: "Каталог",
    navDelivery: "Жеткізу және төлем",
    navGuarantee: "Кепілдік",
    navB2B: "Заңды тұлғалар",
    navContacts: "Байланыс",
    heroTitle: "Ойын ноутбуктары, периферия және жабдық — ашық мерзім және кепілдікпен",
    heroText: "Сипаттамалар бойынша жылдам іздеу, 4 модельге дейін салыстыру, “Алматыға ~8 күн” алдын ала тапсырыс белгісі және өтінімді 1–2 минутта рәсімдеу.",
    heroGoCatalog: "Каталогқа өту",
    catTitle: "Санаттар",
    catDesc: "Дайын сүзгілермен каталогқа өтіңіз",
    bAsk: "КП сұрау",
    wa: "WhatsApp жазу",
    cart: "Себет",
    wishlist: "Таңдаулылар",
    compare: "Салыстыру",
    empty: "Әзірге бос",
    checkout: "Тапсырыс беру",
  },
  en: {
    subtitle: "Showcase • Orders • Quotes",
    navCatalog: "Catalog",
    navDelivery: "Delivery & Payment",
    navGuarantee: "Warranty",
    navB2B: "Business",
    navContacts: "Contacts",
    heroTitle: "Gaming laptops, peripherals & equipment — with honest lead times and warranty",
    heroText: "Fast spec search, compare up to 4 items, preorder tag “~8 days to Almaty” and a 1–2 minute checkout request.",
    heroGoCatalog: "Open catalog",
    catTitle: "Categories",
    catDesc: "Go to catalog with ready filters",
    bAsk: "Request a quote",
    wa: "WhatsApp",
    cart: "Cart",
    wishlist: "Wishlist",
    compare: "Compare",
    empty: "It’s empty for now",
    checkout: "Checkout",
  }
};

const FX = { 
  KZT: 1,
  RUB: 0.20,
  USD: 0.0022 
};

function loadState(){
  const raw = localStorage.getItem(STORE_KEY);
  return raw ? JSON.parse(raw) : { lang:"ru", cur:"KZT", cart:[], wish:[], cmp:[] };
}
function saveState(s){ localStorage.setItem(STORE_KEY, JSON.stringify(s)); }
function fmtMoney(kzt, cur){
  const rate = FX[cur] ?? 1;
  const val = kzt * rate;
  const opt = { maximumFractionDigits: cur==="KZT" ? 0 : 2 };
  return new Intl.NumberFormat(undefined, opt).format(val) + " " + cur;
}
function waLink(text){
  const msg = encodeURIComponent(text);
  const phone = ADMIN_WA.replace(/\D/g,"");
  return `https://wa.me/${phone}?text=${msg}`;
}
function openWA(text){
  window.open(waLink(text), "_blank", "noopener,noreferrer");
}

const state = loadState();

function setCounts(){
  document.getElementById("wishCount").textContent = state.wish.length;
  document.getElementById("cmpCount").textContent = state.cmp.length;
  document.getElementById("cartCount").textContent = state.cart.reduce((a,i)=>a+i.qty,0);
}
function applyI18N(){
  const t = I18N[state.lang] || I18N.ru;
  const byId = (id, val) => { const el=document.getElementById(id); if(el) el.textContent=val; };

  byId("ui-subtitle", t.subtitle);
  byId("navCatalog", t.navCatalog);
  byId("navDelivery", t.navDelivery);
  byId("navGuarantee", t.navGuarantee);
  byId("navB2B", t.navB2B);
  byId("navContacts", t.navContacts);

  byId("heroTitle", t.heroTitle);
  byId("heroText", t.heroText);
  byId("heroGoCatalog", t.heroGoCatalog);

  byId("catTitle", t.catTitle);
  byId("catDesc", t.catDesc);

  const bAskBtn = document.getElementById("bAsk");
  if(bAskBtn) bAskBtn.innerHTML = `<i class="fa-solid fa-file-signature"></i> ${t.bAsk}`;

  const waBtn = document.getElementById("waBtn");
  if(waBtn) waBtn.textContent = t.wa;

  document.getElementById("year").textContent = new Date().getFullYear();
}

function drawerOpen(title, html, totalsHtml=null){
  const overlay = document.getElementById("overlay");
  const drawer = document.getElementById("drawer");
  document.getElementById("drawerTitle").textContent = title;
  document.getElementById("drawerContent").innerHTML = html;

  const totals = document.getElementById("drawerTotals");
  if(totalsHtml){
    totals.style.display="block";
    totals.innerHTML = totalsHtml;
  } else {
    totals.style.display="none";
    totals.innerHTML = "";
  }

  overlay.classList.add("show");
  drawer.classList.add("show");
  overlay.setAttribute("aria-hidden","false");
  overlay.focus();
}
function drawerClose(){
  document.getElementById("overlay").classList.remove("show");
  document.getElementById("drawer").classList.remove("show");
  document.getElementById("overlay").setAttribute("aria-hidden","true");
}
document.getElementById("drawerClose").addEventListener("click", drawerClose);
document.getElementById("overlay").addEventListener("click", drawerClose);

function renderCart(){
  if(!state.cart.length){
    drawerOpen(I18N[state.lang].cart, `<p class="muted"><i class="fa-solid fa-box-open" style="margin-right:8px;"></i>${I18N[state.lang].empty}</p>`);
    return;
  }

  const rows = state.cart.map(it => `
    <div class="item">
      <div>
        <img class="thumb" src="images/${it.img || "tovar1.jpg"}" onerror="this.src='https://via.placeholder.com/72'">
      </div>
      <div>
        <b>${it.name || it.sku}</b>
        <small>${it.variantName ? it.variantName : ""}</small>
        <small class="muted">${it.stock || ""}</small>
        <div class="qty">
          <button type="button" data-act="dec" data-sku="${it.sku}" data-vid="${it.vid}">−</button>
          <input value="${it.qty}" inputmode="numeric" data-act="qty" data-sku="${it.sku}" data-vid="${it.vid}">
          <button type="button" data-act="inc" data-sku="${it.sku}" data-vid="${it.vid}">+</button>
          <button class="btn" type="button" data-act="rm" data-sku="${it.sku}" data-vid="${it.vid}" style="padding: 6px 12px; min-height:32px; font-size:12px;">Удалить</button>
        </div>
      </div>
    </div>
  `).join("");

  const totalKZT = state.cart.reduce((sum,it)=>sum + (it.priceKZT||0)*it.qty, 0);

  drawerOpen(
    I18N[state.lang].cart,
    rows,
    `
      <div class="row" style="margin-bottom:16px">
        <div class="muted">Итого</div>
        <div style="font-size: 20px;"><b>${fmtMoney(totalKZT, state.cur)}</b></div>
      </div>
      <button class="cta" id="goCheckout" type="button">${I18N[state.lang].checkout}</button>
      <div class="help" style="text-align:center; margin-top:12px;"><i class="fa-solid fa-circle-info"></i> Оформление откроется в каталоге.</div>
    `
  );

  document.getElementById("drawerContent").addEventListener("click", (e)=>{
    const btn = e.target.closest("button");
    if(!btn) return;
    const act = btn.dataset.act;
    if(!act) return;
    const sku = btn.dataset.sku;
    const vid = btn.dataset.vid;
    const idx = state.cart.findIndex(x=>x.sku===sku && String(x.vid)===String(vid));
    if(idx<0) return;
    if(act==="inc") state.cart[idx].qty += 1;
    if(act==="dec") state.cart[idx].qty = Math.max(1, state.cart[idx].qty - 1);
    if(act==="rm") state.cart.splice(idx,1);
    saveState(state); setCounts(); renderCart();
  }, { once:true });

  document.getElementById("goCheckout").addEventListener("click", ()=>{
    location.href = "catalog.html?open=cart";
  });
}

function renderSimpleList(title, arr, type){
  if(!arr.length){
    drawerOpen(title, `<p class="muted"><i class="fa-solid fa-box-open" style="margin-right:8px;"></i>${I18N[state.lang].empty}</p>`);
    return;
  }
  const html = arr.map(sku => `
    <div class="item">
      <img class="thumb" src="images/tovar1.jpg" onerror="this.src='https://via.placeholder.com/72'">
      <div>
        <b>${sku}</b>
        <small class="muted">Откройте каталог, чтобы увидеть детали.</small>
        <div class="inline" style="margin-top:12px">
          <a class="btn" href="catalog.html?${type}=${encodeURIComponent(sku)}" style="padding: 6px 12px; min-height:32px; font-size:12px;">Открыть в каталоге</a>
          <button class="btn" type="button" data-sku="${sku}" style="padding: 6px 12px; min-height:32px; font-size:12px;">Убрать</button>
        </div>
      </div>
    </div>
  `).join("");
  drawerOpen(title, html);
  
  document.getElementById("drawerContent").addEventListener("click", (e)=>{
    const b = e.target.closest("button");
    if(!b) return;
    const sku = b.dataset.sku;
    if(!sku) return;
    const list = type==="wish" ? state.wish : state.cmp;
    const i = list.indexOf(sku);
    if(i>=0) list.splice(i,1);
    saveState(state); setCounts(); renderSimpleList(title, list, type);
  }, { once:true });
}

/* UI events */
document.getElementById("langSel").value = state.lang;
document.getElementById("curSel").value = state.cur;

document.getElementById("langSel").addEventListener("change", (e)=>{
  state.lang = e.target.value;
  saveState(state); applyI18N();
});
document.getElementById("curSel").addEventListener("change", (e)=>{
  state.cur = e.target.value;
  saveState(state); applyI18N();
});

document.getElementById("hambBtn").addEventListener("click", ()=>{
  const nav = document.getElementById("nav");
  nav.classList.toggle("open");
});

document.getElementById("cartBtn").addEventListener("click", renderCart);
document.getElementById("wishBtn").addEventListener("click", ()=>renderSimpleList(I18N[state.lang].wishlist, state.wish, "wish"));
document.getElementById("cmpBtn").addEventListener("click", ()=>renderSimpleList(I18N[state.lang].compare, state.cmp, "cmp"));
document.getElementById("heroOpenCart").addEventListener("click", renderCart);

document.getElementById("goCatalogBtn").addEventListener("click", ()=>{
  const q = document.getElementById("searchInput").value.trim();
  location.href = "catalog.html" + (q ? `?q=${encodeURIComponent(q)}` : "");
});
document.getElementById("searchInput").addEventListener("keydown", (e)=>{
  if(e.key==="Enter"){ e.preventDefault(); document.getElementById("goCatalogBtn").click(); }
});

document.getElementById("waBtn").addEventListener("click", ()=>{
  openWA("Здравствуйте! Нужна консультация по товарам JOHNGALTAZ.");
});
document.getElementById("fabWA").addEventListener("click", ()=>{
  openWA("Здравствуйте! Нужна консультация по товарам JOHNGALTAZ.");
});

document.getElementById("heroOneClick").addEventListener("click", ()=>{
  location.href = "catalog.html?open=oneclick";
});

document.getElementById("openPicker").addEventListener("click", ()=>{
  document.getElementById("picker").scrollIntoView({behavior:"smooth"});
});

document.getElementById("bAsk").addEventListener("click", ()=>{
  openWA("Здравствуйте! Хочу запросить КП (юр. лица). Подскажите условия и сроки.");
});

document.getElementById("pickerForm").addEventListener("submit", (e)=>{
  e.preventDefault();
  const name = document.getElementById("pName").value.trim();
  const phone = document.getElementById("pPhone").value.trim();
  const budget = document.getElementById("pBudget").value;
  const use = document.getElementById("pUse").value;
  const notes = document.getElementById("pNotes").value.trim();
  const text =
`Заявка: Подбор ноутбука
Имя: ${name}
Телефон: ${phone}
Бюджет: ${budget}
Задачи: ${use}
Комментарий: ${notes || "-"}
(Сайт JOHNGALTAZ)`;
  openWA(text);
});

setCounts();
applyI18N();
</script>
</body>
</html>
